% Thanks to Dan Wang for the Beamer template!

\documentclass[9pt]{beamer}

% Fill in variables below %
% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ %
\newcommand{\thesemester}{Spring 2013}
\newcommand{\themidterm}{CS70 Midterm 1 Review}
\newcommand{\theauthors}{Alton Zheng, Edwin Liao, Joy Jeng, Sagar Karandikar, Sung Roa Yoon}
\newcommand{\theorganization}{Eta Kappa Nu, Mu Chapter \\
University of California, Berkeley}
\newcommand{\thedate}{February 18, 2013}
\newcommand{\thelanguage}{Java}
% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ %

% Preamble %
% ---------------------------------------------------------------------------- %
\usepackage{url}
\usepackage{relsize}
\usepackage{color}
\usepackage{listings}
\usepackage{multirow}
\usepackage{array}
\usepackage{bm}
\usepackage{framed}
\usepackage{amsfonts}
\usepackage{amsmath}

% Listings Package %
\usepackage{listings}
\lstset{numbers=left,
    basicstyle=\ttfamily,
    numberstyle=\tiny,
    showstringspaces=false,
    frame=leftline,
    language=Java,
    escapeinside=\$\$,
    keywordstyle=\color{blue},
    xleftmargin=20pt,
    morecomment=[l]{//},
    }

\usetheme{Singapore}
\setbeamertemplate{mini frames}[circle]
\setbeamertemplate{footline}[frame number]


\title{\themidterm}
\author{\theauthors}
\institute{\theorganization}
\date{\thedate}
% ---------------------------------------------------------------------------- %

\begin{document}

% Title Page %
% ---------------------------------------------------------------------------- %

\begin{frame}[fragile]
  \titlepage
\end{frame}


% Propositions and Proof Techniques %
% ---------------------------------------------------------------------------- %
\section{Propositions and Proof Techniques}
\subsection{Propositions and Proof Techniques}

\begin{frame}[fragile]
  \frametitle{Direct Proof}
     \begin{itemize}
        \item Theory:
        \begin{itemize}
            \item Direct Proof of $P \Rightarrow Q$: Assume $P$ \dots Therefore $Q$
            \item This is often useful when you have an easy-to-expand expression as $P$ (For example, in the exercise below)
        \end{itemize}
        \item Exercise:

            Prove that, if $m, n$ are odd integers, then $mn$ is also an odd integer.
            
       \item Solution:
\uncover<2->{\alert<2>{
        \begin{eqnarray}       
            \text{ We can write } m = 2k + 1, n = 2q + 1 \text{ for some } k, q \in \mathbb{Z} \nonumber \\
            (2k + 1)(2q + 1)  \nonumber \\
            4kq + 2k + 2q + 1 \nonumber \\
            2(2kq + k + q) + 1 \nonumber \\
            2a + 1 \text{ for some } a \in \mathbb{Z} \nonumber \\
            \text{ So } mn \text{ is, by definition, an odd number } \nonumber
        \end{eqnarray}
}}
    \end{itemize}   
\end{frame}

\begin{frame}[fragile]
  \frametitle{Proof by Contraposition}
     \begin{itemize}
        \item Theory:
        \begin{itemize}
            \item Proof by Contraposition of $P \Rightarrow Q$: Assume $\neg Q$ \dots Therefore $\neg P$
            
            So $\neg Q \Rightarrow \neg P \equiv P \Rightarrow Q$

            \item This is often useful when you have an easy-to-expand expression as $P$ (For example, in the exercise below)
        \end{itemize}
        \item Exercise:

            Prove that, if $x^2$ is even, then $x$ is even, for all $x \in \mathbb{Z}$
            
       \item Solution:
\uncover<2->{\alert<2>{
        \begin{eqnarray}       
\text{Suppose that } x \text{ is not even.} \nonumber \\
\text{Let } x = 2k + 1 \text{ for } k \in \mathbb{Z} \nonumber \\
x^2 = (2k + 1)^2 = 4k^2 + 4k + 1 = 2(2k^2 + 2k) + 1 \nonumber \\
\text{We proved that } x^2 \text{ is an odd number, so we have completed} \nonumber \\
\text{our proof by contrapositive} \nonumber
        \end{eqnarray}
}}

    \end{itemize}   
\end{frame}


\begin{frame}[fragile]
  \frametitle{Proof by Contradiction}

     \begin{itemize}
        \item Theory:
        \begin{itemize}
            \item  Proof by Contradiction of $P$:  \\
            Assume $\neg P$ \\
            \dots \\
            $R$ \\
            \dots \\
            $\neg R$. \\
            Contradiction, therefore $P$
        \end{itemize}
        \item Exercise:

            Prove that there is no greatest integer.
            
       \item Solution:
\uncover<2->{\alert<2>{
        Assume that there is a greatest integer $N$. But we know that $N+1$ is also
        an integer (since integers are closed under addition, by definition), and
        $N + 1 > N$ so $N$ is not the greatest integer. Contradiction.

        Therefore there is no greatest integer.
}}
    \end{itemize}   
\end{frame}


% Induction %
% ---------------------------------------------------------------------------- %
\section{Induction}
\subsection{Summary}

\begin{frame}[fragile]
  \frametitle{Proofs by Induction}
  Prove by induction $\forall k \in \mathbb{N}, P(k)$, where $\sum\limits_{i=1}^k i = \frac{k(k+1)}{2}$ \\
  \uncover<2->{\alert<2>{
      Base Case: $P(1)$. Then $\sum\limits_{i=1}^1 i = \frac{1(1+1)}{2} = 1$ \\
  }}
  \uncover<3->{\alert<3>{
      Induction Hypothesis: Assume $P(m)$ for some $m$. \\
  }}
  \uncover<4->{\alert<4>{
      Induction Step: Prove for $P(m + 1)$. \\
      \begin{align}
      P(m + 1) &= P(m) + (m + 1)\nonumber \\
      &= \frac{m(m+1)}{2} + (m + 1) \nonumber \\
      &= \frac{m^2 + m + 2(m + 1)}{2} \nonumber \\
      &= \frac{m^2 + 3m + 2}{2}  \nonumber \\
      &= \frac{(m + 1) (m + 2)}{2}  \nonumber \\
      \end{align}
  }}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Cubed $\rightarrow$ Squared}
  Prove by induction $\forall k \in \mathbb{N}, P(k)$, where $\sum\limits_{i=1}^k i^3 = (\frac{k(k+1)}{2})^2$ \\
  \uncover<2->{\alert<2->{
      Base Case: $P(1)$. Then $\sum\limits_{i=1}^1 i^3 = (\frac{1(1+1)}{2})^2 = 1$ \\
  }}
  \uncover<3->{\alert<3->{
      Induction Hypothesis: Assume $P(m)$ for some $m$. \\
  }}
  \uncover<4->{\alert<4>{
      Induction Step: Prove for $P(m + 1)$. \\
      \begin{align}
      P(m + 1) &= P(m) + (m + 1)^3\nonumber \\
      &= (\frac{m(m+1)}{2})^2 + (m + 1)^3 \nonumber \\
      &= \frac{m^2(m+1)^2}{4} + \frac{4(m+1)(m + 1)^2}{4} \nonumber \\
      &= \frac{(m^2 + 4m + 4)(m+1)^2}{4} \nonumber \\
      &= \frac{(m+2)^2(m+1)^2}{4} \nonumber \\
      &= (\frac{m+1)(m+2)}{2})^2 \nonumber
      \end{align}
  }}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Divisible?}
  (Fa06 Papadimitriou and Vazirani 2) Prove by induction that for every odd positive integer $n$, $3^n + 4^n$ is divisible by 7. \newline \\
  \uncover<2->{\alert<2->{
      Base Case: For n = 1, we know that $3 + 4 = 7$, which is divisible by 7. \newline  \\
  }}
  \uncover<3->{\alert<3->{
      Induction Hypothesis: Assume $3^n + 4^n$, where n is some positive odd integer, is divisible by 7. \newline \\
  }}
  \uncover<4->{\alert<4>{
      Induction Step: We want to prove that $3^{n+2} + 4^{n+2}$ is divisible by 7. \newline \\
      
      $3^{n+2} + 4^{n+2} = 9 * 3^n + 16 * 4^n$ \\
      We know that \\
      $9 * 3^n + 16 * 4^n$ is divisible by 7 if \\
      $9 * 3^n + 16 * 4^n$ (mod 7) $= 0$. \\
      $9 * 3^n + 16 * 4^n$ (mod 7) $= 2 * 3^n + 2 * 4^n$ \\
      $= 2 (3^n + 4^n)$ (mod 7)\\
      From the induction hypothesis, we know that $3^n + 4^n$ is divisible by 7, and therefore so is $2(3^n + 4^n)$.
      
  }}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Chocolate}
  (Vazirani Fa12 Midterm 1 3b)
  You wish to break a standard $m × n$ Hershey chocolate bar into $mn$ little squares to distribute to $mn$ kids. In each step you can pick up exactly one piece of chocolate and break it along one
of the horizontal or vertical lines etched into the bar. No stacking! Prove by induction that the minimum number of steps required to completely break the bar into $mn$ little squares is
$mn - 1$.\newline \\
  \uncover<2->{\alert<2->{
      We will use induction on $r = mn$; induction on the number of pieces in the bar. \newline \\
  }}
  \uncover<3->{\alert<3->{
      Base Case: The minimum number of breaks required is $g(r)$. $r = 1$. $m = 1$, $n = 1$. No breaks are
necessary, and we observe that $g(r) = r - 1 = 0$. \newline \\
  }}
  \uncover<4->{\alert<4->{
      Induction Hypothesis: Assume $\forall s \leq k, g(s) = s - 1$. (Strong induction)\newline \\
  }}

\end{frame}

\begin{frame}[fragile]
  \frametitle{Chocolate Step}
  (Vazirani Fa12 Midterm 1 3b)
  You wish to break a standard $m × n$ Hershey chocolate bar into $mn$ little squares to distribute to $mn$ kids. In each step you can pick up exactly one piece of chocolate and break it along one
of the horizontal or vertical lines etched into the bar. No stacking! Prove by induction that the minimum number of steps required to completely break the bar into $mn$ little squares is
$mn - 1$.\newline \\
  \uncover<2->{\alert<2->{
      We will use induction on $r = mn$; induction on the number of pieces in the bar. \newline \\
  }}
  \uncover<3->{\alert<3->{
      Induction Step: Prove for $P(m + 1)$. \\
      Consider $r = k + 1$. Since we have one big piece and $k + 1$ pieces to distribute, we need to begin by making 1 break. This results in two bars, one with $u < k + 1$ and another with
$v < k + 1$ pieces, where $u + v = k + 1$. Applying the inductive hypothesis, it takes a minimum of
$g(v) =  v - 1$ breaks on the bar of size $v$, and it takes $g(u) = u - 1$ breaks on the bar of size $u$. The
total minimum number of breaks is then $g(k + 1) = 1 + (v - 1) + (u - 1) = (u + v) - 1 = (k + 1) - 1$.
Therefore, for any bar of size $mn$, it takes a minimum of $mn - 1$ breaks. 
  }}
\end{frame}



% Stable Marriage %
% ---------------------------------------------------------------------------- %
\section{Stable Marriage}
\subsection{Stable Marriage}


\begin{frame}[fragile]
  \frametitle{Stable Marriage Question}
  {\bf Objective}: Given that there are n men and n women, match them up (male to female pairing) in such a way that there are no {\it rogue couples}.\newline
  
\uncover<2->{
  {\bf Rogue couples}: A man and a woman who prefer each other as opposed to their current partners. (BOTH sides must prefer each other to their current partners!)
  }
\end{frame}
\begin{frame}[fragile]
\frametitle{Few things to note}
I'm not going to go over the whole proof with you, for the sake of time, but you should have a look at it again. Instead, how about some pointers to help you remember a few key facts?
\begin{enumerate}
\uncover<2->{
\item
  {\bf TMA is male-optimal}: You can think of it this way - if all of the males prefer unique woman for their first choice, would the women have ANY say in the matter?\\
  {\it Remember, male-optimal means that every male has the highest choice woman he can be hoped to paired with in ANY stable pairing.}
  }
\uncover<3->{
\item
{\bf Stable pairing that is both male- and female-optimal}: Is it possible to have both in a stable pairing? Yes. However, that also means that there is only 1 stable pairing possible, as that specific pairing needs to be both Male-optimal AND male-pessimal, female-optimal AND female-pessimal.
}
\uncover<4-> {
\item 
{\bf Runtime of TMA}: TMA has runtime of $O(n^2)$. You can think of it this way - even in the worst case situation, there will be at least 1 man who was rejected at each cycle. Since there are n men and each has n choices, there will be at longest $n^2$ number of iterations.
}
\end{enumerate}
\end{frame}
\begin{frame}[fragile]
\frametitle{Go go go!}
Now let's try a practice question.\\ 
What is the male- and female-optimal pairing in this set?\\ %Sarah, Ariel, Mira, Nova, Jim, Tychus, Matt, Horace
\begin{tabular}{|c|c|c|c|c|}
\hline
Male Pref & 1 & 2 & 3 & 4\\
\hline
Jim & S & A & M & N\\
Matt & A & N & M & S\\
Valerian & N & A & M & S\\
Tychus & M & N & A & S\\
\hline
\end{tabular}
\quad
\begin{tabular}{|c|c|c|c|c|}
\hline
Female Pref & 1 & 2 & 3 & 4\\
\hline
Sarah & J & M & V & T\\
Ariel & J & M & V & T\\
Mira & J & V & M & T\\
Nova & V & M & J & T\\
\hline
\end{tabular}
\newline
\\
\uncover<2->{\alert<2>{
The male-optimal pairings are: \{(Sarah, Jim), (Ariel, Matt), (Nova, Valerian), (Mira, Tychus)\}\\
The female-optimal pairings are: \{(Sarah, Jim), (Ariel, Matt), (Nova, Valerian), (Mira, Tychus)\}
}}
\end{frame}


% Modular Arithmetic %
% ---------------------------------------------------------------------------- %
\section{Modular Arithmetic}
  \subsection{Modular Arithmetic}

\begin{frame}[fragile]
  \frametitle{\emph{Euclid's Extended Algorithm}}
 Evaluate:
 \newline
 \centerline{extended-gcd(37,10)}
 \newline
 \newline
 Show all recursive steps and return values. Use this information to provide a solution, if any to:
 \newline
 \centerline{$10x = 1 \text{ mod } 37$}

\begin{verbatim}
algorithm extended-gcd(x,y):
   if y = 0 then return(x, 1, 0)
   else:
      (d, a, b) := extended-gcd(y, x mod y)
      return((d, b, a - (x div y) * b))
\end{verbatim}

\end{frame}

\begin{frame}[fragile]
 \frametitle{\emph{Euclid's Extended Algorithm}}

\begin{eqnarray}
extended-gcd(37, 10) &->& \uncover<6->{\alert<6->{returns (1, 3, -11)}} \\
extended-gcd(10, 7) &->& \uncover<5->{returns (1, -2, 3)}\\
extended-gcd(7, 3) &->& \uncover<4->{returns (1, 1, -2)}\\
extended-gcd(3, 1) &->& \uncover<3->{returns (1, 0, 1)} \\
extended-gcd(1, 0)  &->& \uncover<2->{returns (1,1,0)}
\end{eqnarray}

 \uncover<7->{
 So a solution for $10x = 1 \text{ mod } 37$ is $x=-11$, or
equivalently, x = 26 mod 37.
 }


\end{frame}

\begin{frame}[fragile]
  \frametitle{\emph{Fermat's Little Theorem:}}
  \emph{Fermat's Little Theorem:} \\
  $a^{p-1} = 1 \text{ mod p (p is a prime) }$
  \newline
  \\
 \huge{Calculate $2^{125}$ mod 127. Hint: 127 is prime.}
\end{frame}

\begin{frame}[fragile]
  \frametitle{\emph{Fermat's Little Theorem}}
 \huge{Calculate $2^{125}$ mod 127. Hint: 127 is prime.}
 \newline
 \setcounter{equation}{0}
 \begin{eqnarray}
        \uncover<2->{ &=& 2^{-1} \cdot 2^{126} \text{ mod 127} } \\
        \uncover<3->{ &=& 2^{-1} \cdot 1  \text{ mod 127 } } \\
        \uncover<3->{ &=& 2^{-1}  \text{ mod 127 (using extended euclid's) } } \\
        \uncover<4->{ &=& 64 \text{ mod 127} } \\
        \uncover<5->{ &=& 2^{-1} = -63 = 64 \text{ mod 127}}
 \end{eqnarray}
\end{frame}


% Public Key Cryptography %
% ---------------------------------------------------------------------------- %
\section{Public Key Cryptography}
  \subsection{Review}

\begin{frame}[fragile]
  \frametitle{RSA Review}
\uncover<2->{\large{RSA requires:}}
\uncover<3->{
\begin{itemize}
\item $p, q:$ large prime numbers (approx. 512 bits each, $N = pq$)
\item $e:$ positive integer relatively prime to $(p-1)(q-1)$
\item $d:$ inverse of $e \pmod{(p-1)(q-1)}$ \newline
\end{itemize}}
\uncover<4->{
Public key: $(N, e)$ \\
Private key: $d$ \\
Unencrypted message: $x$}
\uncover<5->{
 $= x^{ed} \pmod{N}$ \\}
\uncover<4->{
Encrypted message: $x^e \pmod{N}$}
\end{frame}

\subsection{What's wrong with these RSA schemes?}
\begin{frame}[fragile]
\frametitle{What's wrong with these RSA schemes?}
\begin{itemize}
\item $p = 3$
\item $q = 4$
\item $e = 5$
\item $d = 5$
\end{itemize}
\begin{enumerate}
\item $p, q$ are too small.
\item ... \uncover<2->{\alert<2>{$q$ is not prime!}}
\end{enumerate}
\end{frame}

\begin{frame}[fragile]
\frametitle{What's wrong with these RSA schemes?}
\begin{itemize}
\item $p = 7$
\item $q = 11$
\item $e = 3$
\item $d = 23$
\end{itemize}
\begin{enumerate}
\item $p, q$ are too small.
\item ... \uncover<2->{\alert<2>{$e$ is not relatively prime to $(p-1)(q-1)$!}}
\item ... \uncover<3->{\alert<3>{therefore, $e$ has no inverse mod $(p-1)(q-1)$ and $d$ does not exist!}}
\end{enumerate}
\end{frame}

\begin{frame}[fragile]
\frametitle{What's wrong with these RSA schemes?}
\begin{itemize}
\item $p = 11$
\item $q = 11$
\item $e = 9$
\item $d = 90$
\end{itemize}
\begin{enumerate}
\item $p, q$ are too small.
\item ... \uncover<2->{\alert<2>{$d$ does not equal $e^{-1}$!}} \newline \\
\uncover<3->{So what should $d$ be?} \uncover<4->{\alert<4>{$d = 89: 9 \times 89 \equiv 801 \equiv 1 \pmod{100}$}} \newline \\
\uncover<5->{(Also, $p$ and $q$ are the same... Semi-related aside: taking the square root of a number does not take a lot of time, so it would not cost much for a hacker to check if $p == q == \sqrt{N}$. It also doesn't take a lot of time for you to generate another large prime - in other words, don't choose $p == q$)}
\end{enumerate}
\end{frame}

\subsection{Let's do an example!}
\begin{frame}[fragile]
\frametitle{Let's do an example!}
\uncover<2->{Start by choosing $p, q, e, d$.} \uncover<3->{ Let's use $p = 3, q = 5$.}\newline \\
\uncover<4->{What are acceptable values for $e$?} \\
\uncover<5->{\alert<5>{Any number relatively prime to $(p-1)(q-1) = 2 \times 4 = 8$, so $1, 3, 5, 7, 9, ...$ (i.e. any odd number)}} \newline \\
\uncover<6->{So let's choose $e$. How about $e=1$?} \uncover<7->{\alert<7>{\textbf{NO!}}} \uncover<8->{Why not?}
\begin{itemize}
\uncover<9->{\item Unencrypted message = $x$}
\uncover<10->{\item Encrypted message = $x^e = x^1 = x$...}
\end{itemize}
\uncover<11->{Well, that's embarrassing. Our encrypted message is the same as our unencrypted message! And everyone will know this because they will have access to our public key $(N, e)$.} \newline \\
\uncover<12->{Ok, let's use $e = 3$.} \uncover<13->{What should our secret key $d$ be?} \\
\uncover<14->{\alert<14>{$d = 3: 3^{-1} \equiv 3 \pmod{8}$}} \newline \\
\uncover<15->{Great! Now we're ready to announce our public key $(N, e)$ to the world!}
\end{frame}

\begin{frame}[fragile]
\frametitle{Let's send a message!}
\large{We are given $N=15, e=3$} \newline \\
\uncover<2->{What are valid messages we can send?} \\
\uncover<3->{\alert<3>{Any integer in the range [0, 14] because encryption / decryption is done mod $N$ and $N = 15$}} \newline \\
\uncover<4->{Why is it a bad idea to send 0 or 1 as our message?} \\
\uncover<5->{\alert<5>{An adversary can obtain the encrypted message $x^e \pmod{N}$ and knows that the secret message is $x \equiv (x^{e})^d \pmod{N}$ for some secret key $d$. If $x = 0$, then $x^e = 0$ and the adversary can deduce that $x^{ed} = 0$ for any $d$. There is a similar argument against sending the message $x = 1$.}} \newline \\
\uncover<6>{From here, we can just choose a message ($x$), encrypt the message ($x^e \pmod{N}$), and send the message to the person who knows $d$ without having to worry about the message being intercepted. Let's say our message is $x=2$, which means our encrypted message is $2^3 \pmod{15} = 8$.}
\end{frame}

\begin{frame}[fragile]
\frametitle{Let's decrypt a message!}
\begin{center}{\large{We receive $x^e=8$ and we know that $p=3, q=5, e=3, d=3$}} \newline \\ \end{center}
\uncover<2->{How do we decrypt this message?} \\
\uncover<3->{\alert<3>{Take $x^e$ and raise it to the $d^\text{th}$ power mod $N$:}}
\uncover<4->{\alert<4>{
\begin{eqnarray}
(x^e)^d \pmod{15} &=& 8^3 \pmod{15} \nonumber \\
&=& 512 \pmod{15} \nonumber \\
&\equiv& 2 \pmod{15} \nonumber
\end{eqnarray}}}
\uncover<5>{Thus, the original message was $x = 2$! We're done! RSA worked!}
\end{frame}

% The End %
% ---------------------------------------------------------------------------- %

\subsection{Finish!}
\begin{frame}
  \frametitle{\huge{That's it!}}
\begin{center}
\huge{Thanks for coming! \\ Good luck on your midterm!}
\end{center}
\end{frame}

\end{document}
